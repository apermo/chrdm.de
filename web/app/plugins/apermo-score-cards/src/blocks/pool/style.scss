/**
 * Pool Billiard block frontend styles
 */

@use '../../scss/variables' as *;
@use '../../scss/mixins' as *;

.wp-block-apermo-score-cards-pool {
	margin: $spacing-lg 0;
}

.asc-pool {
	@include block-wrapper;

	&__header {
		@include block-header($color-pool);
	}

	&__title {
		@include block-title;
	}

	&__status {
		@include status-badge;

		&--completed {
			background: $color-success-bg;
			color: $color-success-text;
		}

		&--in-progress {
			background: $color-warning-bg;
			color: $color-warning-text;
		}
	}

	&__pending {
		@include pending-state;
	}

	&__actions {
		@include actions-container;
	}

	&__add-game-btn,
	&__complete-btn,
	&__continue-btn,
	&__edit-players-btn {
		@include btn-secondary($color-pool);
	}

	&__add-game-btn {
		@include btn-primary($color-pool, $color-pool-dark);
	}
}

// Standings table
.asc-pool-standings {
	&__table {
		@include table-base;
		margin-bottom: 20px;
	}

	&__rank-col {
		width: 50px;
	}

	&__player-col {
		text-align: left !important;
	}

	&__row {
		&--position-1 {
			@include podium-row-1;
		}

		&--position-2 {
			@include podium-row-2;
		}

		&--position-3 {
			@include podium-row-3;
		}
	}

	&__rank {
		font-weight: $font-weight-bold;
		font-size: $font-size-2xl;
	}

	&__player {
		@include player-display;
	}

	&__avatar {
		@include avatar-styled($avatar-lg);
	}
}

// Games list
.asc-pool-games {
	margin-top: $spacing-lg;

	&__title {
		margin: 0 0 12px;
		font-size: $font-size-2xl;
		font-weight: $font-weight-semibold;
		color: $color-text-primary;
	}

	&__list {
		display: flex;
		flex-direction: column;
		gap: $spacing-sm;
	}

	&__item {
		display: flex;
		align-items: center;
		justify-content: space-between;
		padding: 12px $spacing-md;
		background: $color-bg-light;
		border-radius: $border-radius-lg;
		transition: background 0.2s;

		&:hover {
			background: #e9ecef;
		}
	}

	&__matchup {
		display: flex;
		align-items: center;
		gap: 12px;
		flex: 1;
	}

	&__player {
		display: flex;
		align-items: center;
		gap: $spacing-sm;
		min-width: 120px;

		&--winner {
			font-weight: $font-weight-semibold;

			.asc-pool-games__name::after {
				content: " üèÜ";
			}
		}

		&--loser {
			opacity: 0.7;
		}
	}

	&__avatar {
		@include avatar(28px);
	}

	&__vs {
		color: $color-text-muted;
		font-size: $font-size-sm;
		font-weight: $font-weight-medium;
	}

	&__details {
		display: flex;
		align-items: center;
		gap: $spacing-sm;
		color: $color-text-secondary;
		font-size: $font-size-sm;
	}

	&__balls-left {
		padding: 2px $spacing-sm;
		background: #e9ecef;
		border-radius: $border-radius-sm;
	}

	&__foul {
		padding: 2px $spacing-sm;
		background: $color-error-bg;
		color: $color-error-text;
		border-radius: $border-radius-sm;
	}

	&__actions {
		display: flex;
		gap: $spacing-sm;
		margin-left: 12px;
	}

	&__edit-btn,
	&__delete-btn {
		padding: $spacing-xs $spacing-sm;
		background: transparent;
		border: 1px solid $color-border-medium;
		border-radius: $border-radius-sm;
		font-size: 0.8em;
		cursor: pointer;
		transition: all 0.2s;

		&:hover {
			background: $color-bg-white;
		}
	}

	&__delete-btn:hover {
		border-color: $color-error-text;
		color: $color-error-text;
	}

	&__edit-btn:hover {
		border-color: $color-pool;
		color: $color-pool;
	}
}

// Add game form
.asc-pool-form {
	@include form-container;

	&__title {
		@include form-title;
	}

	&__row {
		display: flex;
		align-items: center;
		gap: $spacing-md;
		margin-bottom: $spacing-md;
		flex-wrap: wrap;
	}

	&__player-select {
		flex: 1;
		min-width: 150px;

		label {
			display: block;
			margin-bottom: $spacing-xs;
			font-size: $font-size-sm;
			font-weight: $font-weight-medium;
			color: $color-text-secondary;
		}

		select {
			width: 100%;
			padding: 10px 12px;
			border: 2px solid $color-border-medium;
			border-radius: $border-radius-md;
			font-size: $font-size-xl;
			background: $color-bg-white;
			cursor: pointer;

			&:focus {
				outline: none;
				border-color: $color-pool;
			}
		}
	}

	&__vs {
		padding-top: 20px;
		color: $color-text-muted;
		font-weight: $font-weight-semibold;
	}

	&__winner-select {
		width: 100%;
		margin-bottom: $spacing-md;

		label {
			display: block;
			margin-bottom: $spacing-xs;
			font-size: $font-size-sm;
			font-weight: $font-weight-medium;
			color: $color-text-secondary;
		}
	}

	&__winner-options {
		display: flex;
		gap: 12px;
	}

	&__winner-btn {
		flex: 1;
		display: flex;
		align-items: center;
		justify-content: center;
		gap: $spacing-sm;
		padding: 12px $spacing-md;
		background: $color-bg-white;
		border: 2px solid $color-border-medium;
		border-radius: $border-radius-md;
		cursor: pointer;
		transition: all 0.2s;

		&:hover {
			border-color: $color-pool;
		}

		&.is-selected {
			background: #e8f5e9;
			border-color: $color-pool;
			font-weight: $font-weight-semibold;
		}

		img {
			@include avatar($avatar-sm);
		}
	}

	&__optional {
		display: flex;
		gap: $spacing-md;
		margin-bottom: $spacing-md;
		flex-wrap: wrap;
	}

	&__field {
		label {
			display: block;
			margin-bottom: $spacing-xs;
			font-size: $font-size-sm;
			font-weight: $font-weight-medium;
			color: $color-text-secondary;
		}

		input[type="number"] {
			width: 80px;
			padding: 10px 12px;
			border: 2px solid $color-border-medium;
			border-radius: $border-radius-md;
			font-size: $font-size-xl;

			&:focus {
				outline: none;
				border-color: $color-pool;
			}
		}
	}

	&__checkbox {
		display: flex;
		align-items: center;
		gap: $spacing-sm;
		padding-top: 20px;

		input {
			width: 18px;
			height: 18px;
			cursor: pointer;
		}

		label {
			font-size: $font-size-lg;
			cursor: pointer;
		}
	}

	&__actions {
		display: flex;
		gap: 12px;
		justify-content: flex-end;
	}

	&__cancel-btn {
		@include btn-secondary($color-pool);
	}

	&__submit-btn {
		@include btn-primary($color-pool, $color-pool-dark);
	}

	&__message {
		margin-top: 12px;
		padding: 10px 14px;
		border-radius: $border-radius-md;
		text-align: center;

		&--error {
			@include form-message-error;
		}

		&--success {
			@include form-message-success;
		}
	}
}

// Responsive
@include responsive-md {
	.asc-pool {
		@include block-wrapper-mobile;
	}

	.asc-pool-standings {
		&__table {
			@include table-mobile;
		}

		&__avatar {
			@include avatar(28px);
		}
	}

	.asc-pool-games {
		&__item {
			flex-direction: column;
			align-items: flex-start;
			gap: $spacing-sm;
		}

		&__actions {
			margin-left: 0;
			width: 100%;
			justify-content: flex-end;
		}
	}

	.asc-pool-form {
		&__row {
			flex-direction: column;
		}

		&__vs {
			padding-top: 0;
		}

		&__winner-options {
			flex-direction: column;
		}

		&__optional {
			flex-direction: column;
		}
	}
}
