/**
 * Darts block frontend styles
 */

@use '../../scss/variables' as *;
@use '../../scss/mixins' as *;

.wp-block-apermo-score-cards-darts {
	margin: $spacing-lg 0;
}

.asc-darts {
	@include block-wrapper;

	&__header {
		@include block-header($color-darts);
	}

	&__title {
		@include block-title;
	}

	&__status {
		@include status-badge;

		&--completed {
			background: $color-success-bg;
			color: $color-success-text;
		}

		&--in-progress {
			background: $color-warning-bg;
			color: $color-warning-text;
		}
	}

	&__pending {
		@include pending-state;
	}

	&__actions,
	&__player-actions {
		@include actions-container;
	}

	&__edit-btn,
	&__duplicate-btn,
	&__edit-players-btn {
		@include btn-secondary($color-darts);
	}
}

.asc-darts-display {
	&__table {
		@include table-base;
		margin-bottom: 20px;

		th,
		td {
			text-align: left;
		}
	}

	&__rank-header {
		width: 60px;
		text-align: center;
	}

	&__row {
		&--podium {
			font-weight: $font-weight-semibold;
		}

		&--position-1 {
			@include podium-row-1;
		}

		&--position-2 {
			@include podium-row-2;
		}

		&--position-3 {
			@include podium-row-3;
		}

		&--finished {
			.asc-darts-display__score {
				font-weight: $font-weight-bold;
			}
		}
	}

	&__rank {
		text-align: center;
		font-weight: $font-weight-bold;
		font-size: $font-size-2xl;
		color: $color-text-secondary;
	}

	&__medal {
		@include medal;
		font-size: 1.4em;
	}

	&__player {
		@include player-display;
		gap: 12px;
	}

	&__avatar {
		@include avatar-styled($avatar-xl);
	}

	&__name {
		@include player-name;
		font-size: $font-size-xl;
	}

	&__draw-label {
		margin-left: $spacing-sm;
		padding: 2px $spacing-sm;
		background: $color-border-dark;
		border-radius: $border-radius-sm;
		font-size: $font-size-xs;
		font-weight: $font-weight-medium;
		color: $color-text-secondary;
	}

	&__score {
		font-family: 'SF Mono', Monaco, 'Courier New', monospace;
		font-size: 1.2em;
		font-weight: $font-weight-medium;

		&--zero {
			color: $color-btn-success;
			font-weight: $font-weight-bold;

			&::before {
				content: 'âœ“ ';
				font-size: 0.9em;
			}
		}
	}

	&__round {
		color: $color-text-light;
		font-size: $font-size-lg;
	}

	&__round-info {
		margin: $spacing-md 0 0;
		padding: 12px $spacing-md;
		background: $color-bg-light;
		border-radius: $border-radius-lg;
		text-align: center;
		color: $color-text-secondary;
		font-size: $font-size-lg;
	}

	&__edit-hint {
		margin: 12px 0 0;
		text-align: center;
		color: $color-text-light;
		font-size: $font-size-sm;
		font-style: italic;
	}
}

// Frontend score form
.asc-darts-form {
	@include form-container;

	&__title {
		margin: 0 0 $spacing-md;
		padding-bottom: 12px;
		border-bottom: 2px solid $color-darts;
		font-size: $font-size-2xl;
		color: $color-text-primary;
	}

	&__round-input {
		display: flex;
		align-items: center;
		gap: 12px;
		margin: 20px 0;
		padding: $spacing-md;
		background: $color-bg-light;
		border-radius: $border-radius-lg;

		label {
			font-weight: $font-weight-semibold;
			white-space: nowrap;
		}

		input {
			max-width: 100px;
		}
	}

	&__table {
		@include table-base;
		margin-bottom: 20px;

		th,
		td {
			text-align: left;
		}
	}

	&__player {
		@include player-display;
		gap: 12px;
	}

	&__avatar {
		@include avatar-styled($avatar-xl);
	}

	&__input {
		@include form-input($color-darts);

		&.has-error {
			border-color: $color-error-text;
		}
	}

	&__error {
		display: block;
		margin-top: $spacing-xs;
		color: $color-error-text;
		font-size: 0.8em;
	}

	&__actions {
		text-align: center;
		margin-bottom: $spacing-md;
	}

	&__submit {
		@include btn-primary($color-darts, $color-darts-dark);
		padding: 12px $spacing-xl;
		font-size: $font-size-2xl;
		font-weight: $font-weight-semibold;

		&:active:not(:disabled) {
			transform: scale(0.98);
		}
	}

	&__help {
		text-align: center;
		color: $color-text-secondary;
		font-size: $font-size-md;
		margin: 0;
	}

	&__message {
		margin-top: $spacing-md;
		padding: 12px $spacing-md;
		border-radius: $border-radius-lg;
		text-align: center;

		&--error {
			@include form-message-error;
		}

		&--success {
			@include form-message-success;
		}
	}
}

// Responsive
@include responsive-md {
	.asc-darts {
		@include block-wrapper-mobile;
	}

	.asc-darts-display {
		&__table {
			@include table-mobile;
		}

		&__avatar {
			@include avatar($avatar-md);
		}
	}

	.asc-darts-form {
		&__table {
			@include table-mobile;
		}

		&__avatar {
			@include avatar($avatar-md);
		}

		&__input {
			max-width: 100px;
		}

		&__submit {
			width: 100%;
		}
	}
}
